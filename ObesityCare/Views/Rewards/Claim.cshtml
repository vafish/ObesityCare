
@model ObesityCare.Models.Reward
@{
    ViewBag.Title = "Claim";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{
    var data = ViewData["totalstar"];

}
@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="hero hero-4" style="background-image: url('../../images/background1.jpg');">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-10 mx-auto" style="background-color:white; opacity:0.75;">
                    <div class="intro col-lg-8 mx-auto text-dark">

                        <h1 class="heading mb-2  text-dark" data-aos="fade-up" data-aos-delay="0" style="padding-top:10px">
                            Claim a Reward
                            <span class="block-testimonial" style="margin-left:300px;font-size:18px; font-weight:400">
                                Your Current Star:  @data
                                <span id="totalstar">

                                </span>
                            </span>
                        </h1>
                        <div data-aos="fade-up" data-aos-delay="100">
                            <p class="block-testimonial">
                                Reward Details

                            </p>

                            <div class="row block-testimonial">
                                <div class="text-dark">
                                    <span class="border-2 text-dark"> @Html.DisplayNameFor(model => model.Name)</span>


                                    <span>: </span>
                                    <span>@Html.DisplayFor(model => model.Name)</span>
                                </div>


                                <div class="text-dark mb-3">
                                    <span>
                                        @Html.DisplayNameFor(model => model.Cost)

                                    </span>
                                    <span>: </span>
                                    <span>
                                        @Html.DisplayFor(model => model.Cost) stars;
                                    </span>
                                </div>





                                <div class="col-3 mb-3 btn btn-outline-secondary">@Html.ActionLink("Back to List", "Index")</div>

                                <div class="col-4 mb-3 float-right" style="padding-left:40%">

                                    <input type="submit" class="btn btn-outline-secondary" value="Claim" />
                                </div>

                            </div>



                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>


}
@if (ViewBag.Message != null)
{
<script type="text/javascript">

            window.onload = function () {
                alert("@ViewBag.Message");
                
            };
</script>

}


@*<script>
       function validate() {
            if (@cost > @data) {
                confirm("You need more stars to exchange this reward!")
            }
            if (@cost <= @data){
                event.preventDefault();

                $.ajax({
                    url: "@Url.Action("UpdateStar", "Rewards")",
                    data: { Id:@id, UserId:@uid, Amount: @data - @cost },
                    type: "post",
                    success: function () {
                        // insert response into the div placeholder
                        confirm("Reward exchanged succssfully!")
                    },
                    error: function (xhr, ajaxOptions, thrownError) {
                        console.log(xhr, ajaxOptions, thrownError);
                    }
                });
            }


        }
    </script>*@